<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Buddyfight Life Counter</title>
<style>
body {
  font-family: 'Segoe UI', sans-serif;
  margin: 0;
  padding: 0;
  overflow: hidden;
  color: #fff;
  text-align: center;
  min-height: 100vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 30px;
  position: relative;
}

/* Background container */
#bg-container {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;   /* use viewport width */
  height: 100vh;  /* use viewport height */
  z-index: -1;
  overflow: hidden;
}

.bg-media {
  position: absolute;
  top: 50%;
  left: 50%;
  width: auto;      /* allow scaling */
  height: auto;     /* allow scaling */
  min-width: 100%;
  min-height: 100%;
  transform: translate(-50%, -50%); /* center perfectly */
  object-fit: cover;  
  object-position: center;
  filter: grayscale(30%) blur(4px) brightness(60%);
  opacity: 0;
  transition: opacity 2s ease-in-out;
}


/* Foreground elements */
h1 { font-size: 2.5rem; margin-bottom: 20px; }

.player-container {
  display: flex;
  justify-content: space-around;
  flex-wrap: wrap;
  gap: 20px;
  z-index: 1;
  position: relative;
  margin-top: -20px;
}

.player {
  background: rgba(0,0,0,0.5);
  border: 2px solid #fff;
  border-radius: 15px;
  width: 250px;
  padding: 20px;
}

.player h2 { font-size: 1.5rem; margin-bottom: 15px; }

.life { font-size: 3rem; margin: 10px 0; }
.mini-tracker { font-size: 1.5rem; margin: 5px 0; }

.buttons {
  display: flex;
  justify-content: center;
  gap: 5px;
  flex-wrap: wrap;
  margin-bottom: 10px;
}

button {
  font-size: 1rem;
  padding: 5px 10px;
  border-radius: 8px;
  border: none;
  cursor: pointer;
  font-weight: bold;
  background-color: rgba(255,255,255,0.2);
  color: #fff;
  transition: all 0.2s;
}
.header {
  margin-bottom: 0px;
  text-align: center;
}

.header-img {
  max-width: 30%;      /* scales nicely on small screens */
  height: auto;        /* maintain aspect ratio */
}


button:hover { background-color: rgba(255,255,255,0.4); }
button.reset { width: 100%; margin-top: 10px; background-color: rgba(255,255,0,0.4); color: #000; }

.flash { animation: flashAnim 0.3s ease-in-out; }
@keyframes flashAnim { 0% { transform: scale(1.2); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }

</style>
</head>
<body>

<div id="bg-container">
  <!-- image -->
  <img src="bdf01.png" class="bg-media" style="opacity:1">
  <img src="bdf02.jpg" class="bg-media">
  <img src="bdf03.jpg" class="bg-media">
  <!--  GIF -->
  <img src="bdf04.gif" class="bg-media">
  <!-- Video -->
  <!--<video class="bg-media" autoplay muted loop>
    <source src="background.mp4" type="video/mp4">
  </video>
  <!-- Add more images/videos/GIFs as needed -->
</div>


<div class="header">
  <img src="Shin_Logo.png" alt="Buddyfight Life Counter" class="header-img">
</div>
<div class="player-container">
<div class="player" id="player1">
  <h2>Player 1</h2>
  <div class="life" id="life1">10</div>

  <div class="mini-tracker">Action Points: <span id="ap1">10</span></div>
  <div class="buttons">
    <button id="ap1Plus">+1 AP</button>
    <button id="ap1Minus">-1 AP</button>
    <button onclick="resetAP(1)">Reset AP</button>
  </div>

  <div class="mini-tracker">Power: <span id="power1">0</span></div>
  <div class="buttons">
    <button id="power1Plus">+1 Power</button>
    <button id="power1Minus">-1 Power</button>
  </div>

  <div class="buttons">
    <button id="life1Plus">+1 Life</button>
    <button id="life1Minus">-1 Life</button>
  </div>
</div>

<div class="player" id="player2">
  <h2>Player 2</h2>
  <div class="life" id="life2">10</div>

  <div class="mini-tracker">Action Points: <span id="ap2">10</span></div>
  <div class="buttons">
    <button id="ap2Plus">+1 AP</button>
    <button id="ap2Minus">-1 AP</button>
    <button onclick="resetAP(2)">Reset AP</button>
  </div>

  <div class="mini-tracker">Power: <span id="power2">0</span></div>
  <div class="buttons">
    <button id="power2Plus">+1 Power</button>
    <button id="power2Minus">-1 Power</button>
  </div>

  <div class="buttons">
    <button id="life2Plus">+1 Life</button>
    <button id="life2Minus">-1 Life</button>
  </div>
</div>
</div>
<button class="reset" onclick="resetAll()">RESET ALL</button>


<script>
// Life / AP / Power
let life1 = 10, life2 = 10;
let ap1 = 10, ap2 = 10;
let power1 = 0, power2 = 0;

// Core functions
function changeLife(player, amount){ if(player===1) life1=Math.max(life1+amount,0); else life2=Math.max(life2+amount,0); updateDisplay('life',player); }
function changeAP(player, amount){ if(player===1) ap1=Math.max(ap1+amount,0); else ap2=Math.max(ap2+amount,0); updateDisplay('ap',player); }
function resetAP(player){ if(player===1) ap1=10; else ap2=10; updateDisplay('ap',player); }
function changePower(player, amount){ if(player===1) power1=Math.max(power1+amount,0); else power2=Math.max(power2+amount,0); updateDisplay('power',player); }
function resetAll(){ 
  life1=life2=10; ap1=ap2=10; power1=power2=0; 
  ['life','ap','power'].forEach(t => [1,2].forEach(p => updateDisplay(t,p)));
}

function updateDisplay(type, player){
  let el;
  switch(type){
    case 'life': el = document.getElementById(`life${player}`); el.textContent = player===1? life1:life2; break;
    case 'ap': el = document.getElementById(`ap${player}`); el.textContent = player===1? ap1:ap2; break;
    case 'power': el = document.getElementById(`power${player}`); el.textContent = player===1? power1:power2; break;
  }
  el.classList.remove('flash'); void el.offsetWidth; el.classList.add('flash');
}

// Holdable button helper
function setupHoldableButton(buttonId, action){
  const btn = document.getElementById(buttonId);
  let interval;
  btn.addEventListener('mousedown', () => {
    action(); // immediate increment
    interval = setInterval(action, 200); // repeat every 200ms while holding
  });
  btn.addEventListener('mouseup', () => clearInterval(interval));
  btn.addEventListener('mouseleave', () => clearInterval(interval)); // stop if cursor leaves button
  btn.addEventListener('touchstart', (e)=>{ e.preventDefault(); action(); interval = setInterval(action, 200); }, {passive:false}); // mobile support
  btn.addEventListener('touchend', () => clearInterval(interval));
}

// Initialize all holdable buttons
setupHoldableButton('life1Plus', () => changeLife(1,1));
setupHoldableButton('life1Minus', () => changeLife(1,-1));
setupHoldableButton('ap1Plus', () => changeAP(1,1));
setupHoldableButton('ap1Minus', () => changeAP(1,-1));
setupHoldableButton('power1Plus', () => changePower(1,1));
setupHoldableButton('power1Minus', () => changePower(1,-1));

setupHoldableButton('life2Plus', () => changeLife(2,1));
setupHoldableButton('life2Minus', () => changeLife(2,-1));
setupHoldableButton('ap2Plus', () => changeAP(2,1));
setupHoldableButton('ap2Minus', () => changeAP(2,-1));
setupHoldableButton('power2Plus', () => changePower(2,1));
setupHoldableButton('power2Minus', () => changePower(2,-1));

// Random background rotation (images/videos/GIFs)
const medias = Array.from(document.querySelectorAll('.bg-media'));
let lastIndex = 0;
setInterval(() => {
  let nextIndex;
  do { nextIndex = Math.floor(Math.random() * medias.length); } while(nextIndex === lastIndex);
  medias[lastIndex].style.opacity = 0;
  medias[nextIndex].style.opacity = 1;
  lastIndex = nextIndex;
}, 10000); // every 10 seconds
</script>


</body>
</html>
